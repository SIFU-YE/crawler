


在分析展现模块，若您想对数据进行自动统计分析，并辅以条件筛选、告警、数据格式显示等功能时，您需要入门透视分析；本文将用产品内置数据源“northwind”里的“订单表”，向您介绍如何基于数据源中的表快速创建透视分析。
## 1、示例描述
基于内置数据源“northwind”里的“订单表”，现需对产品销售地点和销售量进行汇总分析，并上报给管理层进行查询，有以下要求：
  * 需计算出产品发往每个销售区域所需的平均运费；
  * 对运输成本较高的销售区域要予以告警提示。


基于上述要求，本次透视分析思路如下：
  * 展现的输出字段：“发货区域”、“发货城市”、Freight。
  * 将“发货区域”作为筛选项；
  * 对 “Freight” 进行平均值计算；
  * 对展现数据按需设置告警。


预期效果如下图所示：
## 2、入口及界面
Smartbi侧边栏点击分析展现，打开分析展现界面后选择透视分析，即可开始新建：
## 3、选择数据来源
进入透视分析界面时，数据来源选择“**数据源中的表** ”>“**northwind** ”>“**订单表** ”
## 4、字段选择
（1）在待选列中勾选“发货区域”、“发货城市”至行区，“Freight”至度量区
（2）点击刷新，报表如下图所示：
## 5、条件选择
（1）将字段"发货区域”拖拽到标题下方筛选区
（2）拖拽完成后生成筛选条件。可对报表进行筛选，如：选择“发货区域”等于“华东、华南、华中”，接着“刷新”查看数据。
## 6、表格设计
### 6.1. 分类汇总
行区对“发货区域”、“发货城市”分别设置分类汇总。
效果如下图所示：
“发货区域”分类汇总 | “发货城市”分类汇总  
---|---  
对所有“发货区域”进行汇总，即实现合计效果 | 对各“发货城市”进行汇总，即实现小计效果  
### 6.2. 计算方式
（1）右键选择度量区内的“Freight”，点击高级设置。修改其别名为“平均运费”，汇总方式为“平均值”。
（2）刷新后，效果如下图所示：
### 6.3. 告警设置
（1）工具栏点击“告警”，进入告警规则向导界面。点击新建向导。
（2）新建向导：
  * 名称为“高成本”；
  * 告警范围选择“平均运费”；


告警方式设置中，
  * 取值范围选择大于，数值为80；
  * 告警样式选择 **编号“3”** ；


（3）刷新后，效果如下图所示：
## 7、保存查看
（1）工具栏点击保存，名称为“快速创建透视分析”。
（2）所保存路径下可看到相关资源
至此，使用关系数据源“northwind”的订单表创建的透视分析已完成，接下来您可以参考资源发布快速入门，发布您创建好的报表资源
## 8、资源参考
（1）上述快速创建透视分析的示例资源
（2）若您想深入了解透视分析相关内容，可参考以下文档：
  * 
  
