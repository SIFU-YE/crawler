
  * 

线程页面用于定时将JVM所有的线程堆栈打印到临时目录中，方便定位服务器运行缓慢、假死等情况。
# 操作说明
## **自动打印**
Smartbi系统在启动时会自动打印线程堆栈，默认打印间隔为10分钟，也就每隔10分钟就会在线程打印目录下生成一个线程信息文件。生成一个新线程信息文件后，会自动将生成时间距现在已超过3天的旧线程信息文件删除掉，以免占用磁盘空间过多。
自动打印设置的启动位于 **系统运维 > 系统选项 > 公共设置 **中，可设置系统自动打印。
如需再次启动自动打印，请在设置为是后重启服务器，并在线程界面确认是否已开始自动打印。
## **手动打印**
可在需要时手工执行打印线程堆栈。
（1）进入线程界面，先检查是否存在“停止打印”按钮，若存在，则点击“停止打印”按钮停止系统的自动打印；若不存在“停止打印”按钮，只有“开始打印”按钮，才可以进行下一步。
（2）在“打印间隔”中，输入需要的打印间隔时间。
（3）点击“开始打印”按钮，系统会按照设定的打印间隔时间自动打印线程堆栈。
## **线程堆栈文件目录及获取**
打印生成的线程堆栈文件存放于“线程”界面显示的目录中。
获取线程堆栈文件的方式有以下几种：
（1）点击“线程”界面上的“导出”按钮，会将线程堆栈目录下的所有线程堆栈文件以压缩包的形式导出。一般推荐这种方式。
（2）访问系统中的系统运维，点击“导出日志”按钮，将日志文件导出。在导出的压缩包中，有如下以“ThreadDumps”开头的压缩包
该压缩包中包含系统保存的所有打印的线程堆栈文件。
（3）若系统已经无法访问，并且需要线程堆栈文件，则可以直接进入上图中的线程堆栈目录下，即可拿到打印的线程堆栈文件。
## **清空线程堆栈**
点击“线程”界面上的“清空”按钮，可清空线程堆栈目录下的所有线程堆栈文件。  
