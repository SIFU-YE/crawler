
## 1 概述
计算度量是指基于维度和聚合后的度量字段派生出来的一类计算指标，比如数据模型中有“销售额”和“销售目标”，可以通过计算度量创建“销售差额”。
仪表盘上创建的计算度量属于报表私有，若需和其它报表共用，请在数据模型上创建 自定义计算度量 。
## 2 新建计算度量
以产品内置Demo资源的“订单模型”作为数据来源为例，技术人员已经创建了“销售额”和“销售目标”两个字段，而业务人员在分析数据时，想要看“销售额”和“销售目标”的差额，此时便可通过新建计算度量实现，操作步骤如下：
（1），选择**新建计算度量** ，进入新建计算度量界面。
（2）使用 **向导** 的方式新建计算度量字段 **销售差额** ，设置内容如下图所示：
  * 向导的方式支持在界面上拖拽维度或度量即可新建一个计算度量，目前系统内置了数学运算、时间计算、汇总计算、文本转换和命名集五大类向导，详情可查看 自定义计算度量 。若系统内置的计算类型不满足业务场景，也可以 自定义表达式模版 。
  * 函数的方式可以灵活的实现更复杂的计算，详情可查看 计算度量示例


通过 **向导** 方式创建计算度量时，不支持拖入参数；若需引用参数，则需要使用 **函数** 创建方式，详情参考 XXX _（待数据模型补充示例）_ 。
（3）生成的计算度量字段放在 **自定义度量** 目录下，且不支持移动位置，若需查看修改可在此字段上右键选择 **编辑** 。
（4）以汇总表为例展示数据效果，将**发货区域** 、**销售差额** 列区，便可查看每个区域的销售差额情况。
## 3 切换度量汇总依据
以产品内置Demo资源的“订单模型”作为数据来源为例，技术人员在业务数据集已定义了汇总依据为合计的“销售额”字段，而业务人员在分析数据时，需要看各产品的平均销售额数据，此时便可通过切换度量的汇总依据来实现，操作步骤如下：
（1）在数据选择区的度量目录节点下，对**销售额** 。
  * 度量一般指原子度量，原子度量支持切换汇总依据，而计算度量不支持切换汇总依据，原子度量和计算度量的详细说明可查看 自定义计算度量 。
  * 度量字段支持的汇总依据类型包括：合计、最大值、最小值、平均值、计数和唯一计数。


（2）生成的度量字段放在**自定义度量****汇总依据** 。
（3）以汇总表为例展示数据效果，将**产品名称** 、**销售额2** 字段添加到列区，在列区的**销售额2** ，选择**设置显示名****销售额** ，便可查看各产品的平均销售额数据。  
