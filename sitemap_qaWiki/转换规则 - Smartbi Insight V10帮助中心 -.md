


转换规则是指查询时把数据库中各字段的内容按需要转换为熟悉的业务术语。
转换规则目前只能用于数据类型为字符串和整型的字段，浮点型的字段不支持转换规则。
如：当数据库中“性别“字段中的功能区内容为“1”和“2”，当我们把“1”与“男”，“2”与“女”进行转换规则定制后，在报表的“性别”字段下显示的是“男”和“女”而不再是“1”和“2”。
## 操作入口
**入口1** ：在“系统导航栏”选择 **公共设置** ，展开资源目录区，在“转换规则”或其节点下文件夹的更多操作选择 **新建 > 转换规则(T)**，选择数据源之后，进入“新建转换规则”界面。
**入口2** ：在“公共设置”界面主菜单选择 **转换规则。**
## 界面介绍
“转换规则”界面主要分为以下几个区域：
  * 可选资源区：该区列出了所有设置转换规则可使用的资源，其中数据源与“设置区”中的数据源是一致的，在进入“转换规则”界面之前先选取的。
  * 设置区：该区列出了所有设置转换规则的设置项。这些设置项的说明如下：


规则名称 | 转换规则的真名。  
---|---  
规则别名 | 转换规则的别名，即显示的名称。  
表示转换规则在哪个数据源中创建，在进入“转换规则”定制界面前需要确定。  
转换类型 |  表示设置转换规则的类型，主要有：SQL和静态列表。默认是“SQL”。
  * 若选择SQL，在“转换规则”文本区中需要输入SQL表达式，并确定其实际值和显示值。
  * 若选择静态列表，“转换规则”文本区变成静态列表形式，需要列出所有的显示值及对应的真实值。

  
转换规则 | 设置转换规则的主要区域，根据转换类型而不同。  
实际值和显示值 | 与SQL转换类型结合使用。  
批量导入 | 与静态列表结合使用。  
转换规则的描述信息，显示在资源目录区的提示信息中。  
## 静态列表
静态列表是通过手动输入或是Excel导入的方式对需转换的真实值和显示值进行设置。如下图：
## 批量导入
当需设置的值比较多的时候，可以通过Excel模板把真实值和显示值设置好，然后通过批量导入功能导入即可。
要求Excel模板中需要两列设置真实值和显示值，如下图，A列对应的是真实值，B列对应的是现实值。
## SQL方式
我们也可以通过SQL语句的方式设置转换规则。SQL方式一般应用于把数据库中的字段A的值转换为字段B的值。
如下图，转换类型选择SQL方式，在转换规则表达式区域输入SQL语句。
然后点击刷新按钮，则在实际值和显示值列表下出现字段名称。
最后根据需要选择对应字段。
SQL方式中也支持比较复杂的SQL语句，如下图case when 语句。
## 使用说明
新建好转换规则之后，您需要在资源对应的业务查询的“属性面板”中进行转换规则的选取，在浏览分析时报表才能显示出转换效果。
对于业务主题，是在属性区上业务属性设置中。
  1. 你们3.0的BI 如果我有一个表的某一个字段配置了转换规则，在数据集定义里面查看时可以把性别编号转换过程男女。
但是用excel插件定制复杂报表，拖入性别字段，转换规则就不起作用了。
    1. 在 Excel 中设计报表时，需要双击应用了转换规则的字段对应的单元格，然后在“数据列”对话框上，将**“使用显示值”** 选项勾上，见下图。请参考：电子表格应用转换规则。

  
