
# 1 概述
计算成员是维度成员和度量的结合体，它通过绑定在普通维度上输出自定义成员字段，并且通过多维表达返回数值结果。因此在报表应用时，计算成员必须结合度量字段才有数据意义。
前置条件
1、新建计算成员时，父成员可不选；如果要选择，只能选择”层次结构“的上级或者父级。
2、计算成员是存储在内存中的，如果底层的数据量过大，在数据模型中自定义"计算成员”可能会导致性能变差。
3、计算成员与分组字段要做的事情有点类似，区别是：
  * **计算成员** 不会新增列，而是在选择的字段中增加成员。
  * **分组字段** 是新增了新的一列，实现的场景不太一样，详参：自定义分组。


# 
如模型中有”区域-省份-城市“层级，”城市“层级下有北京、深圳、上海、广州、成都等成员(如不理解维度层级可查看：详情)，此时我们可以基于这些成员创建一个叫”一线城市“的新成员作为维成员输出字段，该字段通过表达式实现将“北京”、“上海”、“深圳”这三个城市的数据求和。
以产品自带的northwind 数据库下的“订单表”、“订单明细表” 等创建“订单模型”。
具体操作步骤如下：
1、创建数据模型，并把”订单表“、”订单明细表“等加入到数据模型中。
2、新建计算成员:
入口 |  点击在度量区旁边的,再选择”新建计算成员“菜单，进入新建页面  
---|---  
进入新建页面，填写基本的信息：
  * **名称** ：必填项， 命名为”一线城市“；
  * **层次结构:** 必填项，选择”发货城市“；
  * **父成员** ：非必填，在“发货省份”下找父成员，选择任意一个省份即可。
  * **描述** ：非必填，如果觉得 **名称** 无法让使用其他用户理解该成员的业务意义，可以在描述字段上写清楚该成员的具体业务意义。

  
表达式编辑器 | 
  * 可以从右侧 **字段** 区拖入维度、度量、成员、计算度量、命名集、参数到编辑器中；鼠标移上去可以查看对应的path路径信息。
  * 可以从右侧 **函数** 区双击或拖动函数到编辑器；在下方的 函数描述 会自动显示对应函数信息。
  * 支持在编辑器手写"函数",编辑器会自动识别到已存在的函数，在产品中不存在的函数编辑器无法识别，但是绝大部分都能执行； 不支持手写维度、度量、计算度量、成员、层次等属于字段的内容。
  * 
示例上：从右侧拖入成员[北京]、[上海]、[深圳]到编辑器并用“+”连接起来。  
字段区域 | 
  * 默认展开，如果不想或者想要更大的编辑区域，可以点击右侧的 **字段** **函数** 按钮将其收起。
  * 字段区域展示的是模型的结构：维度、度量、计算度量、计算成员、命名集、参数； 可通过 字段区的“搜索” 找到想要的字段。
  * 双击或者鼠标拖拽可把字段拖入到编辑器中。

  
函数区域 | 
  * 展示的函数包含：产品内置封装的函数、多维表达式函数
  * 双击或者鼠标拖拽可把函数拖入到编辑器中。

  
数据预览 | 
  * **预览数据** 可以检查多维表达式语法、数据结果是否正确，从而减少在报表层出错概率。
  * 写好了表达式，点击 **预览数据：**

(1)如果表达式不对，会提示预览失败，需要再调整编辑器的多维表达式。 (2)如果编写正确，则可以在 下面的数据预览区域查看结果。  
函数描述 | 从右侧拖入的函数会在 **函数描述** 显示其描述信息，用户可根据描述信息编写表达式。  
格式化 | 即格式化编辑器的表达式内容，让其更好的阅读理解。  
校验 | 校验表达式内容是否有语法错误，如果要完全确定表达式是否正确，建议点击**数据预览** 。  
3、填写好基本信息以及多维表达式 点击 **确定** 之后，可以在 **成员** tab下面看到新建的计算成员”一线城市“。
  * 可以对其进行 编辑、删除操作。
  * 如果建了很多成员也可以通过 下面的 **新建目录** 菜单 新建目录对成员进行归类；目前计算成员的目录也只支持一级目录。


4、构建完模型并保存成功，并去建交互式仪表盘，最终效果如下：
计算成员和其它的维度成员一样，它与新增时 所选的 **层次结构字段** 有隶属关系，因此在应用时通过拖拽 选择的层次结构 字段来使用。  
