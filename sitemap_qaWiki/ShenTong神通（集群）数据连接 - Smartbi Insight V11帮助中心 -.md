
## 1 概述
神通数据库（MPP集群）是企业级大规模并行处理分布式关系型数据库，具有负载均衡、在线扩展、高可靠性等集群特性，并提供丰富的数据分布方案和高速的数据导入性能，同时具有高效的查询处理性能。
本文介绍如何在smartbi V9.5以上版本中连接神通数据库。
## 2 数据连接
### 2.1 配置信息
驱动程序类 | 连接字符串 | 驱动程序存放目录 | 支持数据库版本  
---|---|---|---  
com.oscar.cluster.Driver | jdbc:oscarcluster://<servername>/<database> | 自定义 | 神通xCluster集群件V3.5.8.1（build df391630)  
1）连接字符串主要信息说明：
<servername>：数据库的地址，一般可以向数据库管理员获取；
<database>：数据库名称，一般可以向数据库管理员获取。
2）添加自定义驱动方法：
a、首先进入到<Smartbi_PATH>\Tomcat\bin\dynamicLibraryPath文件夹下，手动添加shentong文件夹。
b、然后进入shentong文件夹下，添加shentong驱动（驱动包可以从数据库官网获取或向数据库管理员获取）。
c、最后在数据源连接时需要点击自定义选项，选择shentong。
### 2.2 连接步骤
1）登录Smartbi企业报表分析平台，选择 **数据连接 >关系数据库** ，点击 **Shentong** 图标进入数据库连接界面。如下图所示：
2）根据2.1章节提供的配置信息，输入数据库对应的信息。如下图所示：
说明：
a、名称是数据连接名称，用户可以自定义，不可为空。
b、用户名和密码是连接字符串中配置的数据库的连接用户名和密码，一般可以联系数据库管理员获取。
###  **2.****3****测试连接**
1）信息正确输入后，点击 ，若出现如下图的弹出框，则表示可以成功连接上数据库。如下图所示：
2）测试连接成功后，点击右下角的 按钮，选择数据源的保存位置，保存成功后，该数据连接即添加成功。如下图所示：
3）数据库连接成功后，可以参考、、等使用方式查看数据。
## 3、注意事项
（1）连接神通数据库集群的数据源连接时，校验语句需要设置为“返还时关闭连接“，事务隔离级别设置为“关闭事务**”** 。
（2）神通集群数据库最多只支持一层嵌套，使用分组条件字段要设置聚合方式；
（3）神通集群数据库不支持嵌套多层查询，若子查询中有重复字段会出现报错；
（4）因神通集群数据库的PrepareStatement不支持子查询与“?”同时使用，故不支持下拉树和树对话框；若sql语句子查询中使用“？”，则不支持作为传参使用。
（5）因神通集群数据库本身兼容问题，暂不支持数据集中的【显示评估的执行计划】；
（6）因数据库本身兼容问题，神通集群数据库驱动不支持在子查询使用limit的sql语句；
（7）因数据库本身兼容问题，神通集群数据库暂不支持全连接；
（8）因神通集成数据库驱动目前不支持文件作为大数据对象插入，当前暂不支持文件回写，即不能导入文件，但能录入数据；  
