
#  概述
本文为您演练如何在Smartbi中连接处理数据，创建和分享仪表盘看板等，帮助用户快速入门。
# 2 情景介绍
假设您是一家食品零售公司的数据分析师，销售总监刚刚拿到2021年5月份的销售数据，但是他发现近期销售利润出现下滑，为了制定下一步的经营策略，需要您找出利润下滑的原因，辅助销售总监做出决策。
# 3 准备工作
1、安装并启动Smartbi 
2、在产品的登录页面，输入用户名、密码，登录到系统
# 4 实现步骤
## 4.1 数据连接
当您开始使用Smartbi进行数据分析，数据连接是您需要做的第一步，Smartbi支持丰富的数据库类型，包括关系数据库、多维数据库、NoSQL数据库和文件数据等，本文将以连接Mysql数据库为例，给您介绍如何快速进行数据连接。
1、登录Smartbi，选择 **数据连接 > ****关系数据库** ，点击 **MySQL** 图标进入新建关系数据源界面
2、输入数据库对应的配置信息，其中*为必填写项；其中数据源的账号密码是业务数据库本身的账号密码
3、数据库信息输入完成后，点击 **测试连接** ，若出现 **测试通过** 弹出框，则表示连接成功
4、连接成功后，点击 **保存** 按钮，选择保存位置，保存成功后，该数据连接新建成功
5、在数据源上右键**数据库管理****保存** 按钮
## 4.2 数据准备
数据连接之后，用户需要基于上一步创建的数据连接来创建**数据模型** ，数据模型中进行多表关联，并且可以进行一些数据处理的操作（比如生成时间层次、字段筛选、数据过滤等）生成最终可制作仪表盘看板的数据集。
1、创建模型：在左侧导航栏点击**数据准备** ，打开数据准备界面后选择**数据模型**
2、添加表：把以上五张数据表添加到模型中，模型会根据相同的字段名称自动检测，并会把一些度量指标字段加到下面的度量区
3、新建计算列：由于数据库中有“销售额”和“销售成本”字段，我们通过计算列派生出“销售利润”字段，并点击 **转换为度量**
4、创建时间层次：在“订单表”订单日期字段上右键，选择 **创建时间层次结构** 勾选“年”、“年月”、“年月日”
5、创建产品层次：点击选择 **新建层次结构** “产品层次”，依次将“产品类别”和“产品名称”拖放到该层次目录下，产品类别在上，产品名称在下，构成可钻取的产品层次结构
6、保存数据模型
## 4.3 制作仪表盘看板
数据模型创建之后，可以在数据模型工具栏上直接点击 **新建分析** ，选择 **交互式仪表盘。**
### 4.3.1 指标分析
1、点击左侧的 **组件** 选择**指标** 分类，在 **指标看板** 上点击**+**
2、把右侧 **数据** 面板**度量** 区的字段“销售额”拖拽到 **组件设置** 面板的 **指标** 区域，并自定义其 **数据格式** 为“万元”
3、点击右侧的 **筛选器** 面板，把“时间维度”下面的“年月”字段拖拽到面板上的 **影响此页面上多个组件的筛选器** 区域，并且设置其筛选器默认值为“2021-05”
4、再次把“销售额”字段拖拽到 **组件设置** 面板的 **指标** 区域，点击字段上的选择 **快速计算 > 同期 > 同期增长率**
5、复制上面创建的指标卡组件，将“销售额”字段换成“销售利润”，并且设置其数据格式和生成同期增长率
由此分析可看到在2021年5月销售额同比增长，但是销售利润却出现下滑，需要进一步分析利润下滑原因。
### 4.3.2 时间分析
1、点击左侧的 **组件** 选择**图形** 分类，在 **线图** 上点击**+**
2、把右侧 **数据** 面板**维度** 区的字段“年月日”和 **度量** 区字段“销售利润” 分别拖拽到 **组件设置** 面板的 **X轴** 和**Y轴** 区域
3、从图中2021年5月份每一天的销售利润趋势
由此分析可初步定位到2021年5月份销售利润下滑主要是在2021年5月20号数据出现异常。
### 4.3.3 品类分析
1、点击左侧的 **组件** 选择**图形** 分类，在 **柱图** 上点击**+**
2、把右侧 **数据** 面板**维度** 区的字段“产品类别”和 **度量** 区字段“销售利润” 分别拖拽到 **组件设置** 面板的 **X轴** 和**Y轴** 区域
3、上一步分析到5月20号的利润异常，若想查当天具体产品的利润数据，则可以点击图表上的 **作为筛选器** 并 **作用于** 品类柱图
4、可点击品类柱图 **下钻** 到具体产品的销售利润
由此分析可定位到2021年5月份销售利润下滑主要是由于5月20号巧克力的销售出现了大量亏损。
### 4.3.4 明细数据分析
1、点击左侧的 **组件** 选择**表格** 分类，在 **明细表** 上点击**+**
2、把右侧 **数据** 面板的字段“年月日”、“产品名称”、“城市”、“商店名称”、“雇员姓名“和”销售利润“字段方式 **列区**
3、上一步分析到5月20号的巧克力利润异常，若想查具体门店和雇员的利润数据，则可以点击图表上的 作为筛选器 并 **作用于** 该明细表
由此分析可定位到2021年5月份销售利润下滑主要是由于5月20号“广州零食超市”门店的“巧克力”销售出现亏损。
### 4.3.5 分析结论和决策
经排查发现，由于在5月20号当天公司搞巧克力的促销活动，而“广州零食超市”门店的员工通过优惠券进行空买空卖，套取利益，导致整个企业的整体利润下滑。目前已通知相关管理人员对该店员工进行跟踪处罚，并且加强管理，防止此类事件的再次发生。
## 4.4 保存和分享
### 4.4.1 效果调整
接下来还要向老板汇报此情况，因此对此看板效果进行优化调整，使其更清晰直观。
1、数据预警：在指标看板和明细表上使用 **条件格式** 对异常数据进行预警显示
2、添加标题：为了更方便调整整体布局，在仪表盘的右下角点击 **画布缩放到最佳比例；** 通过 **文本组件** 增加标题，通过在组件中动态引用筛选器“年月”的值；在各组件的 **属性** 面板中，自定义标题文字、字体大小、背景等信息
3、样式调整：通过鼠标拖拉拽可以快速调整组件大小和排版，在 **属性** 面板中可以进行标题、背景、边框等设置；在 **主题** 面板中，可以根据个人喜欢切换看板的主题风格
4、调整好之后，可以点击工具栏上的 **保存** 按钮保存此看板
### 4.4.1 看板分享
保存后的报表可以在 **分析展现** 对应的目录下找到，在看板上右键选择 **分享** 便可以多种形式把分析结果分享给领导查看。
# 5 数据和资源下载  
