
注意：(新特性列表中：+表示新增；^表示增强)
+【Excel融合分析】Excel数据透视表支持筛选器、条件格式等功能，实现数据灵活筛选 |  |   
---|---|---  
## ****+【 自助仪表盘】新增WEB电子表格组件，实现Web端制定复杂报表****
**背景介绍**
电子表格在推广和应用中面临着两个重要的的的问题：部分客户不允许Excel插件的下载安装；国产化软件的需求越来越多。因此实现Web端的电子表格需求变得迫切，我们经过需求分析统计和论证，在V10版本中实现了在现有自助仪表盘中增加一个WEB电子表格组件，来满足大部分客户的web端表格需求。
**功能简介**
V10版本中自助仪表盘中Web电子表格组件实现的功能有：字段属性、多sheet报表、迷你图、导出、其他组件传参到电子表格参数互动等基础功能。
下面，演示了WEB电子表格组件在自助仪表盘中展现的基础功能效果。
**参考文档**
WEB电子表格使用详情请参见：WEB电子表格。
## **+【即席查询】支持数据去重功能**
**背景介绍**
在实际的业务应用中，产品的两类报表：即席查询和透视分析，前者多用于明细查询，后者常用于聚合计算。因此，在用即席查询进行明细查询时，会出现这样的情况而导致数据重复：
例如某个库表中有10个字段，且这10个字段联合查询出来的明细数据行是唯一的，当业务员只需要查询其中5个字段数据时，很有可能会出现重复数据。类似如下：
当这样的情况导致重复数据出现时，我们就需要一个去重功能去掉重复数据，来保证每条数据行的唯一性。
**功能简介**
针对即席查询增加数据去重功能，即当用户选择了部分字段时，表格中的重复数据能够去除掉。（去重前后效果如下图所示）
在**报表设置 > 表属性**
去除重复数据相关SQL语句如下图所示：
## **+【Excel融合分析】Excel组合图功能优化**
**背景介绍**
Excel融合分析在使用Excel组合图会出现这样的问题：对图形设置序列、数据标签、图表样式、设置透视表或表格区域的样式在发布之后都不生效。
因此，V10版本针对这个问题，对Excel组合图功能进行了优化。
**功能简介**
在V10版中优化Excel分析的发布逻辑进行优化：基于透视表创建图形，保存报表中图形、表格的设置信息，确保在web端打开样式与插件端一致：
## **+【Excel融合分析】Excel数据透视表支持筛选器、条件格式等功能，实现数据灵活筛选**
**背景介绍**
以前的版本，用户想要实现条件筛选，就只能通过在数据集中创建参数来实现，过度依赖数据集。V10版本的Excel融合分析，支持利用Excel的数据透视表筛选器来实现数据筛选，大大简化了用户的操作。
**功能简介**
1、在Excel的数据透视表中，支持设置筛选器、字段条件。
2、在Excel的数据透视表和表格区域中，支持设置Excel常用的条件格式、表格格式、单元格格式。
## **+【应用】支持引用资源发布到应用，实现无障碍复用报表**
**背景介绍**
在使用Smartbi时，会有这样的使用场景：不同部门在实际业务使用中都固化了一些业务报表模板，希望能够将这部分报表模板分享给其他部门进行推广使用。当前的做法是通过资源授权给其他部门用户进行查看，然后机械式的复制模板、修改模板，经常还需要重新修改报表模板引用的数据源（包括重新连接、拖拽字段、配置关联等），这种做法既耗时又耗力。因此，V10版本通过应用发布时，复制报表模板引用的资源一起发布到应用商店，实现将复制的模板及引用资源，按照源资源的关系为复制后的资源间的关系建立关系，可以满足业务用户省时省力无障碍复用报表的目的。
**功能简介**
在发布应用时，在应用内容中，选择要发布的依赖资源：
**注意事项**
在发布应用时，可以作为依赖资源一起发布的数据集有：支持原生sql数据集，sql数据集，可视化数据集，存储过程数据集和自助数据集。
目前暂不支持java数据集、公共设置、自助仪表盘的依赖资源。
## **+【应用】应用商店增加状态条件、刷新按钮，实现应用商店条件筛选**
**功能简介**
  * 应用商店：列表模式的展示，增加状态字段，状态类型包括：未安装、已安装、在列表中增加显示该字段信息；
  * 增加一个刷新按钮；


##  **+【流程】规范****应用****发布和数据导航流程的主题名称**
**背景介绍**
门户应用中，常用的两大功能：应用发布和数据导航，且应用发布和数据导航存在流程机制，这些流程的处理在"待办"中进行，为了让审核人员清晰的了解当前流程用于处理的对象及事务，因此我们规范了流程主题名称。
**功能简介**
在“我的待办”界面的“待办”、“已办”、“我发起的”页面中，其流程列表中“主题”列的命名规范如下：
1、应用发布的流程主题名称规范为：操作内容-应用名称-提交人-提交时间。其中，应用的操作内容有：申请应用、发布应用、修改应用、删除应用。
2、数据导航的流程主题名称规范为：操作内容-报表名称-提交人-提交时间。其中，数据导航的操作内容为：申请数据资源。
## **+【自助仪表盘】增强表格组件字段分析功能**
**背景介绍**
在实际应用中，用户往往需要借助表格进行数据分析，如过滤部分成员、创建新的快速计算字段与原始数据进行对比等。为了满足上述需求，新版本我们增强了自助仪表盘表格组件的数据分析能力，新增维度选择、分类汇总、排序、过滤、快速计算等功能，满足用户多样化的分析需求，提高分析能力。
**功能简介**
新版本，我们增强了表和交叉表组件的分析能力，新增维度选择、分类汇总、排序、过滤、快速计算等功能。
1、维度选择：表和交叉表组件支持添加或替换维度字段到表格中。
  * 屏蔽了交叉表的层次字段展开收起功能；
  * 交叉表的行区、列区维度支持互相转换。


2、分类汇总：交叉表支持显示、隐藏、取消分类汇总。
3、排序：表和交叉表组件支持字段排序。
4、过滤：表和交叉表组件支持过滤出选择的字段。
5、快速计算
来源于数据模型的自助仪表盘，表与交叉表组件的行列区、标记区的度量字段上支持快速计算，如下图：
6、其他
修改交叉表组件将资源树的维度字段添加到行列区的逻辑：首个添加的字段自动放到行区，第二个放到列区，接下来添加的字段都会放到行区。
**注意事项**
以上功能支持自助仪表盘编辑和浏览界面上使用，在编辑状态下所有功能可直接保存，在浏览状态下可将所有功能另存为新的自助仪表盘保存。
**参考文档**
关于维度选择、分类汇总、排序、过滤、快速计算等功能，详情请参考 表组件、交叉表组件 。
## **^【自助仪表盘】调整颜色重置按钮位置**
**背景介绍**
自助仪表盘的图形可以在标记区定义图形的颜色、标签等图形属性，但是在定义图形颜色的“颜色设置”窗口中，原来颜色重置按钮的位置容易让用户对其功能产生误解。因此在新版本调整颜色重置按钮的位置。
**功能简介**
颜色重置按钮的功能是重置对左侧数据项区域的修改，因此新版本将颜色重置按钮的位置调整到数据项区域。
关于标记区的颜色，详情请参考。
## **^【自助仪表盘】数据来源于业务主题的图表支持下钻**
**背景介绍**
自助仪表盘的图形下钻、交叉表的展开收缩效果，能帮助用户清晰、直观地了解不同层级数据的上下级关系，并聚焦于自己感兴趣的内容。以往产品仅针对数据来源自助数据集的自助仪表盘，实现了用户进行层次创建和下钻等交互设计；为了满足不同数据来源的场景，在V10版本中，新增了针对数据来源于业务主题的自助仪表盘，支持创建层次、实现下钻展开的功能。
**功能简介**
1、在自助仪表盘中（数据来源于业务主题），支持用户新建层次；基于此层次生成的图形可实现下钻与返回、交叉表可展开收缩对应的层级效果。注意：在自助仪表盘中自定义的层次结构将同步到业务主题。
2、在业务主题中，创建层次的入口如下，此创建的层次在自助仪表盘中可供使用。
如果产品是从以前的版本升级到V10版本，支持用户查看和使用此功能；如果用户第一次下载产品，则不支持此功能。
层次的使用详情可参考专题：自助仪表盘-下钻。
## **^【自助仪表盘】组件支持设置字段显示名**
**背景介绍**
目前版本中，自助仪表盘中的图形或表格，其字段名称默认取字段别名，不支持在自助仪表盘中进行显示名称的修改，因此当面临如下情况时，用户使用体验感有欠缺：
  * 字段进行聚合处理后，系统默认添加聚合方式后缀，如“销售额”经过合计后变成“销售额（合计）”；
  * 字段名称是英文或者特别长；


因此，V10版本实现了在自助仪表盘中支持修改图形或表格中字段的显示名称。
**功能简介**
自助仪表盘中的字段，无论 “行”、“列”区还是“标签”区的字段都支持修改显示名称：
## **^【自助仪表盘】实现自定义饼图位置及图例显示百分比**
**功能简介**
V10版本对饼图进行了功能增强：
  * 通过自定义圆心的位置改变饼图在画布中的位置，使饼图在画布上的布局可以更合理和美观；
  * 图例的显示也不仅仅只有分类项了，还可以显示指标、百分比情况或者指标+百分比。


下图显示了饼图增强前后的对比情况。
增强前效果 |  饼图在画布中居中显示，图例仅能显示分类项。  
---|---  
增强后效果 |  通过设置圆心位置在横轴35%和纵轴50%的点，来改变饼图默认在画布中居中显示的位置，且图例显示了分类+指标+百分比。  
## **^【自助仪表盘】列表筛选器支持按钮风格自定义**
**功能简介**
V10 版本增加了列表筛选器的样式：实现了按钮风格，且按钮样式允许自定义。
按钮风格允许自定义样式：通过标签形状、边框、字体、背景色、高亮等设置实现。
**参考文档**
详情请参见：筛选器-组件设置。
## **^【自助仪表盘】优化图形指标轴显示**
**背景介绍**
目前自助仪表盘中的二维图，如柱图、线图等，其指标轴最大值和最小值都是系统根据指标数据自动确定的，但是在应用过程中经常会遇到需要自定义最大值和最小值。为了满足客户这样的需求，V10版本实现了自定义最大值和最小值。
除此之外，浮点型数据在指标轴上会显示小数位“.00”，这样的显示效果没有任何意义，因此，V10版本做了相应的调整。
**功能简介**
1、指标轴最大值和最小值处理
V10版本支持修改指标轴最大值和最小值的方式有如下两种：
  * 对数轴：当同一指标轴上两指标数据差距特别大时，可以对数值小的指标进行对数轴处理，使数据图形效果看起来更美观。


  * 自定义：用户可以通过输入具体值、数值百分比或加减值的方式来实现自定义最大值和最小值。


2、指标轴浮点型数据格式效果处理
指标轴浮点型数据格式处理按照如下进行调整：
原指标轴分割显示 | V10版本效果  
---|---  
0.00 1.00 2.00 3.00 4.00  | 0 1 2 3 4  
0.00 0.50 1.00 1.50 2.00 | 0 0.5 1 1.5 2  
0.0% 25.0% 50.0% 100.0% | 0% 25% 50% 100%  
浮点型数据格式在指标轴中处理小数位的效果前后对比如下：
##  **^【透视分析】****多选参数值支持筛选包含逗号的数据**
**功能简介**
新版本在透视分析、即席查询、自助仪表盘中，多选参数值支持筛选包含逗号的数据（以前的版本会自动拆分逗号前后的数据）。
## **^【电子表格】插件端的刷新数据与操作性能优化**
**背景介绍**
用户在使用Smartbi插件时，曾经出现过如下问题影响用户业务效率，为了进一步提升用户体验，操作起来更流畅，我们新版本对此进行了一系列性能优化，
（1）当Excel融合分析报表较为复杂或者数据量较大的情况下，点击“刷新数据”，插件端容易出现反应缓慢，操作卡顿耗时。（2）在电子表格插件端进行某一类操作（双击单元格或单元格属性按钮），容易出现每次会向后台发送请求获取字段和参数信息而耗时，导致用户操作不流畅，影响工作效率。
**功能简介**
1、在新版本的电子表格插件端中，我们优化了Excel融合分析报表的“刷新数据“性能，取数速度较之旧版平均提高了30%，如下图展示新旧版本的刷新数据耗时对比。
备注：若需更高的刷新数据性能，建议考虑使用Excel 2019/ WPS 2019。
2、我们通过优化插件端获取字段及参数信息的接口，修改取数逻辑，来提高获取字段及参数信息的速度，让用户享受更高的性能。
新的取数逻辑是：第一次取数时将隶属于同数据集的字段信息全部存储到缓存后，在未清空本地缓存前都从缓存中读数。下图显示了 清空本地缓存 按钮位置：
同数据集的字段信息包括参数信息，清空本地缓存会影响到引用参数、参数排版、回写规则、单元格属性、填报属性、参数控件等；
##  **^【电子表格】****回写填报****权限配置操作优化**
**背景介绍**
旧版本为电子表格配置权限的操作比较繁琐：每次创建或者编辑一次权限都要单击“权限”按钮，操作的延续性比较差。因此V10版本在权限控制规则面板中增加了三个操作按钮，用以简化用户创建、修改和删除规则的操作。
权限控制面板新增如下按钮：
这几个按钮的使用说明如下：
  * 规则操作按钮：分别用于实现新建规则、复制规则和删除规则；其中复制和删除的规则是“规则显示面板”中显示的当前规则。
  * 规则切换按钮：斜杠前的数字表示“规则显示面板”中显示的是第几个规则，斜杠后的数字表示当前电子表格的规则总数；前进、后退键用于切换前一条和后一条的规则。


新建、复制和删除规则操作后，都需要单击 **保存** 按钮，操作才能生效。
## **< 【自助仪表盘】修改柱图、线图标线的默认样式**
**背景介绍**
旧版本中，柱图和线图的标线（平均值、最小值、最大值）样式含有标志起点的锚点、结束点的箭头，由于标线只是一条标志线，并没有指向性，因此V10版本中将锚点和箭头删除；与此同时为了界面的整洁，界面上不再显示标线数值，只在鼠标停留在标线上时显示数值即可。
**功能简介**
下图显示了V10之前版本与V10版本的平均值标线效果对比：
## **< 【流程】审核的上下节点为同一个处理人时审批界面自动跳转**
**背景介绍**
之前的版本，在流程审批中如果审核的下一个处理人还是当前的处理人时，需要该审核人员重新进入到审批界面才会显示下一个处理信息。为了简化审批操作，我们重新处理了审批逻辑，实现了如果下一个处理人是当前处理人则不需要切换，自动跳转下一个到审批界面。
**功能简介**
审批通过后下一个处理人仍是当前处理人则自动跳转下一个到审批界面。
## **< 【流程】修改流程状态及列表字段顺序**
**背景介绍**
之前的版本，流程的状态显示的是节点的名称或自定义的名称，而有的用户想要知道提交的流程是被驳回了还是通过了，为了满足用户需求，新版本我们修改了流程的状态及列表字段的展示顺序，以便用户更好的的查看流程的状态，提升用户体验感。
**功能简介**
1、修改流程状态：用户发起的流程被审核用户驳回后，流程的状态显示为“驳回”（原本流程的状态显示为节点名）。
2、调整我的代办和流程管理中列表字段的顺序，以便用户根据状态和当前环节判断当前流程的情况。  
