
## 1 概述
本文介绍如何在Smartbi中连接TiDB数据库。
版本信息如下：
**Smartbi版本**  
---  
mysql-connector-java-5.1.48 | Smartbi V10.5.15及以上  
## 2 数据连接
### 2.1 配置信息
驱动程序类 | 连接字符串 | 驱动程序存放目录 | 支持数据库版本  
---|---|---|---  
com.mysql.jdbc.Driver | jdbc:mysql://<servername>:<port>/<database>?useOldAliasMetadataBehavior=true&useUnicode=true&characterEncoding=UTF8&zeroDateTimeBehavior=convertToNull | 产品内置 |  TiDB 5.2.3  
连接字符串主要信息说明：
  * <servername>：数据库地址；
  * <port>：数据库端口；
  * <database>：数据库名称；


以上三个信息一般可以向数据库管理员获取。
### 2.2 连接步骤
1、登录Smartbi平台，选择**数据连接 >关系数据库** ，点击 图标进入数据库连接界面。如下图所示：
2、根据提供的配置信息，输入数据库对应的信息。如下图所示：
说明： 
1）名称是数据连接名称，用户可以自定义，不可为空
2）用户名和密码是连接字符串中配置的数据库的连接用户名和密码，一般可以联系数据库管理员获取。
3）驱动程序类型为TiDB时会提供“大数据量兼容”和“允许加载Excel数据”配置项进行选择：
  * 大数据量兼容：默认勾选。在勾选“大数据量兼容”后，会自动在“连接字符串”结尾添加“&useCursorFetch=true&defaultFetchSize=-2147483648”，用于优化内存占用，在抽取千万级别的海量数据到高速缓存库时能显著提高数据抽取性能。
  * 允许加载Excel数据：在勾选“允许加载Excel数据”后，可以在文件导入的时候选择该数据源。


###  **2.****3****测试连接**
1、信息正确输入后，点击，若出现如下图的 弹出框，则表示可以成功连接上数据库。如下图所示：
2、测试连接成功后，点击右下角的 按钮，选择数据源的保存位置，保存成功后，该数据连接即添加成功。如下图所示：
3、数据库连接成功后，可以参考、、等使用方式查看数据。

  
