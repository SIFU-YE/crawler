
## 1 概述
指标模型从测试环境迁移到生成环境，或者指标存储库更换数据库等情况下，此时往往需要更换指标模型对应的指标存储库。本文将介绍如何修改指标存储库。
## 2 设置指标存储库
1、在 **数据准备** 界面的资源目录中，选定需要修改指标存储库的指标模型节点，在其更多菜单中选择**指标存储库** 。
2、打开该指标模型的属性面板，重新设置 **指标存储库** 和 **选择schema** 。
**schema：** schema在数据库中表示的是数据库对象集合，它包含了表，视图，存储过程，索引等，为了区分不同对象的集合就给不同的集合起的名字。
重新设置指标存储库后，新旧指标存储库里的表结构很可能不一致，此时需要作 **检查表结构：**
1、若该存储库是一个空库，需要根据维表和事实表定义结构，重新批量生成实际物理表，用户可在 测试连接 成功且点击 确定 按钮后，进行 检查表结构
2、若该存储库是已含有维表和事实表结构，则只需要 测试连接 成功，点击 确定 关闭提示即可，不用再进行 检查表结构
## 3 检查表结构
检查表结构功能，主要是为了检测指标模型的表定义信息和数据库中的表定义信息是否保持一致。
1、在“数据准备”界面的资源目录中，选定某指标模型节点，在其更多菜单中选择 **检查表结构**
2、检查表结构结束后，在弹出的“检查表结构”窗口中，会显示当前指标模型所有**表不存在****表结构不一致** 。
● 表不存在：在指标模型上存在定义信息，但在指标存储库中并没有对应的表。
● 表结构不一致：在指标模型上定义的结构和指标存储库中的表结构不完全一致，如 字段个数不同、字段名一样但是否为主键或是否为空 属性不同。
## 4 修复表结构
由系统新建的表，可通过**修复表结构** 功能，使得指标模型的表结构定义和数据库中的表保持一致。
● 表不存在：根据指标模型的表结构，在数据库中创建同名表。
● 表结构不一致：根据指标模型的表结构，修改数据库中表的结构。
## 5 同步表结构
引入数据库的表，如果表结构不一致时，可通过**同步表结构** 功能，将数据库中的表结构同步到指标模型中。
如果表不存在时，通过**同步表结构** 功能无法在数据库中自动创建表，需要用户在数据库中手动创建同名表。  
